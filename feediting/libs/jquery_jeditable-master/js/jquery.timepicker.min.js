(function(a){jQuery.fn.timepicker=function(){this.each(function(){var j=this.id;var n=a(this).val();var o=new Array("01","02","03","04","05","06","07","08","09","10","11","12");var c=new Array("00","15","30","45");var g=new Array("am","pm");var l=new Date;var k=l.getHours();var f=l.getMinutes();var b=(k>=12?"pm":"am");if(k>12){k=k-12}for(mn in c){if(f<=parseInt(c[mn])){f=parseInt(c[mn]);break}}if(f>45){f=0;switch(k){case (11):k+=1;b=(b=="am"?"pm":"am");break;case (12):k=1;break;default:k+=1;break}}if(n.length==7){k=parseInt(n.substr(0,2));f=parseInt(n.substr(3,2));b=n.substr(5)}var e="";e+='<select id="h_'+j+'" class="h timepicker">';for(hr in o){e+='<option value="'+o[hr]+'"';if(parseInt(o[hr])==k){e+=" selected"}e+=">"+o[hr]+"</option>"}e+="</select>";e+='<select id="m_'+j+'" class="m timepicker">';for(mn in c){e+='<option value="'+c[mn]+'"';if(parseInt(c[mn])==f){e+=" selected"}e+=">"+c[mn]+"</option>"}e+="</select>";e+='<select id="p_'+j+'" class="p timepicker">';for(pp in g){e+='<option value="'+g[pp]+'"';if(g[pp]==b){e+=" selected"}e+=">"+g[pp]+"</option>"}e+="</select>";a(this).hide().after(e)});a("select.timepicker").change(function(){var d=this.id.substr(2);var e=a("#h_"+d).val();var b=a("#m_"+d).val();var f=a("#p_"+d).val();var c=e+":"+b+f;a("#"+d).val(c)});return this}})(jQuery);